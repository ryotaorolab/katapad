{"components":[{"id":"_stickplusscreen","createTime":1667719384593,"name":"screen","x":0,"y":0,"width":160,"height":284,"backgroundColor":"#111111","backgroundImage":"","size":0,"type":"screen"}],"type":"stick-C-plus","versions":"Beta","units":[],"hats":[],"blockly":"<variables><variable id=\"A:JimXs6@1/YLo.h5zNt\">Volume</variable><variable id=\"tGtmuWC0p%/h:~*d;^HU\">p_distance</variable></variables><block type=\"basic_on_setup\" id=\"setup_block\" deletable=\"false\" x=\"611\" y=\"17\"><next><block type=\"execute\" id=\")%x5?U|snc^+auE$J@Kc\"><field name=\"CODE\">import utime, time&amp;#10;import machine</field><next><block type=\"execute\" id=\"(:Z5VdeYi[07R[*(LZb.\"><field name=\"CODE\"> ############################################################&amp;#10;# 画面の準備&amp;#10;############################################################&amp;#10;&amp;#10;lcd.clear()&amp;#10;&amp;#10;left  =  10&amp;#10;top   =  50&amp;#10;right = 310&amp;#10;height = 30</field><next><block type=\"execute\" id=\"@PDq*cAGUtu/p`DW;|bm\"><field name=\"CODE\"># GPIO2を入力ポートとしてECHOにセット&amp;#10;ECHO = machine.Pin(36, machine.Pin.IN)&amp;#10;# GPIO5を出力ポートとしてTRIGGERと接続してLowにセット&amp;#10;TRIGGER = machine.Pin(0, machine.Pin.OUT)&amp;#10;TRIGGER.value(0)</field><next><block type=\"uart\" id=\"O=.0JK1Jvs$|MKq_V`U0\"><field name=\"VAR\">uart1</field><field name=\"BAUD\">9600</field><field name=\"USE_TIMER\">1</field><value name=\"TX\"><shadow type=\"math_slider\" id=\"50d.=!M0rDQ*|.,9XuOL\"><field name=\"NUM\" max=\"34\" step=\"1\">26</field></shadow></value><value name=\"RX\"><shadow type=\"math_slider\" id=\"FT7KCou~6LTQgOlRBj*J\"><field name=\"NUM\" max=\"36\" step=\"1\">32</field></shadow></value><next><block type=\"lcd_setFont\" id=\"=35$x8mh@(jArl~8s)K%\"><field name=\"FONT_FAMILY\">FONT_DejaVu56</field><next><block type=\"procedures_callnoreturn\" id=\"K.$lv]b4Yx=eBS!8Hb$n\"><mutation name=\"DFPlayer_SetVolume\"><arg name=\"Volume\"></arg></mutation><value name=\"ARG0\"><block type=\"math_number\" id=\"j~HG7KP8_]WV`-/C`$d)\"><field name=\"NUM\">35</field></block></value><next><block type=\"basic_on_loop\" id=\"LFL9=b6NC`PyD#bee(sm\"><statement name=\"LOOP\"><block type=\"procedures_callnoreturn\" id=\"Mg#,M`h6/Z9yCYJ:daIE\"><mutation name=\"kyorisokutei\"></mutation><next><block type=\"execute\" id=\"Pe^wO#L?h-Y3:|F/`n7N\"><field name=\"CODE\">utime.sleep(0.1)&amp;#10;#lcd.clear()</field><next><block type=\"lcd_print\" id=\"oK:Dtd9Mx$cI%uLH4SgJ\"><field name=\"COLOR\">#33ff33</field><value name=\"TEXT\"><shadow type=\"text\" id=\"0$CiWJ;6$QF!YK#KS7A%\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\" id=\"HyU//cwKWufSfX*P!esZ\"><field name=\"VAR\" id=\"tGtmuWC0p%/h:~*d;^HU\">p_distance</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"K[BeBnk|V5jE#]m+dxZ#\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"A~qm6zfegeJ4Vd|^cNme\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"controls_ifelse\" id=\"`ifi53Va|QKb5]:f4eC?\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"/u@]|4=Ge@8EB`vo`WVl\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"AGtu~zetshY|9iip#1-E\"><field name=\"OP\">LT</field><value name=\"A\"><block type=\"variables_get\" id=\"U4EvNBRO{*Pea`(Giv^4\"><field name=\"VAR\" id=\"tGtmuWC0p%/h:~*d;^HU\">p_distance</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"OdW_XKVyHa2=:yV~*{1D\"><field name=\"NUM\">10</field></block></value></block></value><value name=\"B\"><block type=\"logic_negate\" id=\"r4*3XW7i{nS7+dy}{jq0\"><value name=\"BOOL\"><block type=\"logic_compare\" id=\"D^dS=Rhp*h/,BXv9kvH3\"><field name=\"OP\">LTE</field><value name=\"A\"><block type=\"variables_get\" id=\"qgQwR=pT.mRC8^]w+CUz\"><field name=\"VAR\" id=\"tGtmuWC0p%/h:~*d;^HU\">p_distance</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"OnKJS6Wi_4]7wYge@Y~W\"><field name=\"NUM\">0</field></block></value></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"procedures_callnoreturn\" id=\"cHmf%bnPH^PX3g-mqe[k\"><mutation name=\"DFPlayer_next\"></mutation><next><block type=\"timer_delay_ms\" id=\"$FG$ny?rC/1ekLzT|POz\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"J@[ua3@{o,oIm}+%!4#f\"><field name=\"NUM\">2000</field></shadow></value><next><block type=\"procedures_callnoreturn\" id=\"jTc$1_|HZQoGDr/wEUBZ\"><mutation name=\"DFPlayer_stop\"></mutation><next><block type=\"timer_delay_ms\" id=\")YKG.s-;^7mes8#0#c0(\"><value name=\"DELAY\"><shadow type=\"math_number\" id=\"gUXVfz|D;%bNWW)X4Vp5\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_whileUntil\" id=\"fWg$iby4KsbQ,l)(mSFj\"><field name=\"MODE\">UNTIL</field><value name=\"BOOL\"><block type=\"logic_compare\" id=\"9E`g}mj=Wn.r}w6(o?!w\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"variables_get\" id=\"|H)PF7b-7A6qdvoyV5:j\"><field name=\"VAR\" id=\"tGtmuWC0p%/h:~*d;^HU\">p_distance</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"yc@_n0-CV;hQ57x/iJ6.\"><field name=\"NUM\">10</field></block></value></block></value><statement name=\"DO\"><block type=\"procedures_callnoreturn\" id=\"m1`@f~8d=T4C{G^AI_M-\"><mutation name=\"kyorisokutei\"></mutation></block></statement></block></next></block></next></block></next></block></next></block></statement><statement name=\"ELSE\"><block type=\"screen_set_bgcolor\" id=\"95Xg7EhX6C)e,#}}WLTo\"><field name=\"COLOR\">#000000</field><next><block type=\"procedures_callnoreturn\" id=\"3/3x*{[,4l*8a*A6++b4\"><mutation name=\"DFPlayer_stop\"></mutation></block></next></block></statement></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type=\"procedures_defnoreturn\" id=\"dbc!9|L5jR1_[-o;h!!z\" x=\"1250\" y=\"1050\"><field name=\"NAME\">kyorisokutei</field><comment pinned=\"false\" h=\"80\" w=\"160\">この関数の説明…</comment><statement name=\"STACK\"><block type=\"execute\" id=\"xav}e?SC`Vp),Q`73Y.v\"><field name=\"CODE\"># 距離を測る&amp;#10;# Triggerポートを最低10マイクロ秒Highにすると、計測が始まる。&amp;#10;TRIGGER.value(0) # Low&amp;#10;time.sleep_us(5)&amp;#10;TRIGGER.value(1) # High&amp;#10;time.sleep_us(10)&amp;#10;TRIGGER.value(0) # Low&amp;#10;# ECHOピンがHighになっている時間が返る。単位はマイクロ秒。&amp;#10;pulse_time_us = machine.time_pulse_us(ECHO, 1, 30000)&amp;#10;pulse_time_us = pulse_time_us / 2&amp;#10;pulse_time_us = pulse_time_us*340*100/1000000&amp;#10;#mm = pulse_time_us * 10 // 578&amp;#10;p_distance = pulse_time_us</field></block></statement></block><block type=\"procedures_defnoreturn\" id=\"hZl#Y$es+_WDS/3*a94U\" x=\"510\" y=\"1670\"><field name=\"NAME\">DFPlayer_stop</field><comment pinned=\"false\" h=\"80\" w=\"160\">この関数の説明…</comment><statement name=\"STACK\"><block type=\"uart_write_raw_data\" id=\"!Yv~Q/9fa)aGJ1#B~g}y\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><block type=\"lists_create_with\" id=\"eW;dNLce:H-{WVdO@(b|\" inline=\"false\"><mutation items=\"8\"></mutation><value name=\"ADD0\"><block type=\"math_number\" id=\"~W2:[oyP|$i/O#Yv24Rm\"><field name=\"NUM\">0x7E</field></block></value><value name=\"ADD1\"><block type=\"math_number\" id=\"_t5i|a_g7Du`0746+o*{\"><field name=\"NUM\">0xFF</field></block></value><value name=\"ADD2\"><block type=\"math_number\" id=\"O:/H!;/N]6E?c*wi^ZhS\"><field name=\"NUM\">0x06</field></block></value><value name=\"ADD3\"><block type=\"math_number\" id=\"b~bUhH]po4Pnuy^DCthv\"><field name=\"NUM\">0x0E</field></block></value><value name=\"ADD4\"><block type=\"math_number\" id=\"-wB0-O_:~.F#xr(t66(s\"><field name=\"NUM\">0</field></block></value><value name=\"ADD5\"><block type=\"math_number\" id=\"Wy|b13m7F_;AnEeUwl5T\"><field name=\"NUM\">0</field></block></value><value name=\"ADD6\"><block type=\"math_number\" id=\"Gx(8I)]hC;Xq]SO8ySe1\"><field name=\"NUM\">0</field></block></value><value name=\"ADD7\"><block type=\"math_number\" id=\"Ri/4..xWb=_cvvUpc~Oj\"><field name=\"NUM\">0xEF</field></block></value></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"4#AfL3BrmRx1App6C$88\" x=\"1110\" y=\"1670\"><field name=\"NAME\">DFPlayer_next</field><comment pinned=\"false\" h=\"80\" w=\"160\">この関数の説明…</comment><statement name=\"STACK\"><block type=\"uart_write_raw_data\" id=\"DIMG6!s,UgaC`@K6J~Af\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><block type=\"lists_create_with\" id=\"+5nP]nE{}tA83Hp9ckmM\" inline=\"false\"><mutation items=\"8\"></mutation><value name=\"ADD0\"><block type=\"math_number\" id=\"o4qQf)Qr=_6rFx}?WKU4\"><field name=\"NUM\">0x7E</field></block></value><value name=\"ADD1\"><block type=\"math_number\" id=\"gBZbU|3u1qh;LT:%yKVi\"><field name=\"NUM\">0xFF</field></block></value><value name=\"ADD2\"><block type=\"math_number\" id=\"f;u6m8ofpU|LT7BDBAE4\"><field name=\"NUM\">0x06</field></block></value><value name=\"ADD3\"><block type=\"math_number\" id=\"p]uVa?!-4t``@;t7{PGI\"><field name=\"NUM\">0x01</field></block></value><value name=\"ADD4\"><block type=\"math_number\" id=\"g(g5)0aVNrtwx=v7GEJ~\"><field name=\"NUM\">0</field></block></value><value name=\"ADD5\"><block type=\"math_number\" id=\"+B:k8x.Pgkk./BeNpnWo\"><field name=\"NUM\">0</field></block></value><value name=\"ADD6\"><block type=\"math_number\" id=\"v*x3{*rWGS[Jf00,iq06\"><field name=\"NUM\">0</field></block></value><value name=\"ADD7\"><block type=\"math_number\" id=\"r1)/y%yxL]iI6{Sdww_.\"><field name=\"NUM\">0xEF</field></block></value></block></value></block></statement></block><block type=\"procedures_defnoreturn\" id=\"%~zw+Gg)Kzv/3xgBcLPX\" x=\"1130\" y=\"2030\"><mutation><arg name=\"Volume\" varid=\"A:JimXs6@1/YLo.h5zNt\"></arg></mutation><field name=\"NAME\">DFPlayer_SetVolume</field><comment pinned=\"false\" h=\"80\" w=\"160\">この関数の説明…</comment><statement name=\"STACK\"><block type=\"uart_write_raw_data\" id=\"f)=,C|.$u+g?70U3v0zi\"><field name=\"VAR\">uart1</field><value name=\"VALUE\"><block type=\"lists_create_with\" id=\"w,;)bOf?sDdH?Dx@J:S1\" inline=\"false\"><mutation items=\"8\"></mutation><value name=\"ADD0\"><block type=\"math_number\" id=\"/lR9^:xVLEd%G$z2b9Ux\"><field name=\"NUM\">0x7E</field></block></value><value name=\"ADD1\"><block type=\"math_number\" id=\",{UII?}06Mun8GGWf+i=\"><field name=\"NUM\">0xFF</field></block></value><value name=\"ADD2\"><block type=\"math_number\" id=\"C_%}uE|r3ErGZ|hz0Gvr\"><field name=\"NUM\">0x06</field></block></value><value name=\"ADD3\"><block type=\"math_number\" id=\"^u!k?vVmOU@}56M|E+N3\"><field name=\"NUM\">0x06</field></block></value><value name=\"ADD4\"><block type=\"math_number\" id=\"M4uOH{VIK#~}3Nz46k9W\"><field name=\"NUM\">0</field></block></value><value name=\"ADD5\"><block type=\"math_number\" id=\"0f2|$m?}Y`2H`/qP{zsB\"><field name=\"NUM\">0</field></block></value><value name=\"ADD6\"><block type=\"variables_get\" id=\"j%a5S94|U@X/VcY{u`e}\"><field name=\"VAR\" id=\"A:JimXs6@1/YLo.h5zNt\">Volume</field></block></value><value name=\"ADD7\"><block type=\"math_number\" id=\"O.3]r(sUG5[X]=rA]kT8\"><field name=\"NUM\">0xEF</field></block></value></block></value></block></statement></block>","Blockly.Remotes":[],"Blockly.RemotePlus":[{"id":"__title","blockId":"","createTime":1668307269921,"name":"M5RemoteTitle","dragAndDrop":false,"resizable":false,"options":{"minWidth":1,"minHeight":1,"maxWidth":6,"maxHeight":10,"defaultWidth":2,"defaultHeight":1},"w":2,"h":1,"bgColor":"#0080FF","color":"#fff","fontsize":"M","label":"M5Remote","interval":3000,"code":"","event":"","dataSource":"none","ezdataToken":"RtyoDfPOc5qXrW3qH20D4JUA33pRoh1k","topic":"","needShadow":false,"type":"title","x":0,"y":0}],"modules":["machine"],"cbIdList_":[],"eventCBIdList_":[],"apikey":"FDB2A2E0","uuid":"33ba8588-a8bf-4e70-b140-755c62519b04"}